{"remainingRequest":"E:\\Cuong\\vueProject\\vue2_setup\\vue2\\node_modules\\babel-loader\\lib\\index.js!E:\\Cuong\\vueProject\\vue2_setup\\vue2\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\Cuong\\vueProject\\vue2_setup\\vue2\\src\\api\\ajax\\ajax.js","dependencies":[{"path":"E:\\Cuong\\vueProject\\vue2_setup\\vue2\\src\\api\\ajax\\ajax.js","mtime":1611797583219},{"path":"E:\\Cuong\\vueProject\\vue2_setup\\vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Cuong\\vueProject\\vue2_setup\\vue2\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\Cuong\\vueProject\\vue2_setup\\vue2\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0IHFzIGZyb20gInFzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgVG9rZW5NYW5hZ2VyIH0gZnJvbSAiLi4vLi4vdG9rZW5NYW5hZ2VyL3Rva2VuIjsKCnZhciBkZWZhdWx0SGVhZGVycyA9IGZ1bmN0aW9uIGRlZmF1bHRIZWFkZXJzKCkgewogIHJldHVybiB7CiAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCIKICB9Owp9OwoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChyZXF1ZXN0KSB7CiAgdmFyIGNvbnRlbnRUeXBlID0gcmVxdWVzdC5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSB8fCAiIjsKCiAgaWYgKHJlcXVlc3QuZGF0YSAmJiBjb250ZW50VHlwZS5pbmNsdWRlcygiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikpIHsKICAgIHJlcXVlc3QuZGF0YSA9IHFzLnN0cmluZ2lmeShyZXF1ZXN0LmRhdGEpOwogIH0KCiAgcmVxdWVzdC5oZWFkZXJzID0gcmVxdWVzdC5oZWFkZXJzIHx8IGRlZmF1bHRIZWFkZXJzKCk7CiAgdmFyIHRva2VuID0gVG9rZW5NYW5hZ2VyLmdldFRva2VuKCk7CgogIGlmICh0b2tlbikgewogICAgcmVxdWVzdC5oZWFkZXJzWyJBdXRob3JpemF0aW9uIl0gPSAiQmVhcmVyICIgKyB0b2tlbjsKICB9CgogIHJldHVybiByZXF1ZXN0Owp9KTsKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICByZXR1cm4gcmVzcG9uc2U7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIC8vIGNvbnNvbGUubG9nKCJIQVZFIEVSUk9SIiwgZXJyb3IpOwogIHN3aXRjaCAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzKSB7CiAgICBjYXNlIDIwMToKICAgICAgewogICAgICAgIHdpbmRvdy5hbGVydCgiT0sgU3RhdHVzIik7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICBjYXNlIDQwMToKICAgICAgewogICAgICAgIFRva2VuTWFuYWdlci5yZW1vdmVUb2tlbigpOwogICAgICAgIHdpbmRvdy5hbGVydCgiVW5hdXRob3JpemVkLiBJbnZhbGlkIEFQSSBLRVkiKTsKICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAiL2xvZ2luIjsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgIGNhc2UgNDAwOgogICAgICB7CiAgICAgICAgd2luZG93LmFsZXJ0KCJCYWQgUmVxdWVzdCIpOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgY2FzZSA1MDA6CiAgICAgIHsKICAgICAgICB3aW5kb3cuYWxlcnQoIlNlcnZlciBJbnRlcm5hbCBFcnJvciIpOwogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgZGVmYXVsdDoKICAgICAgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0KICB9IC8vIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cgp9KTsKZXhwb3J0IGRlZmF1bHQgYXhpb3M7"},{"version":3,"sources":["E:/Cuong/vueProject/vue2_setup/vue2/src/api/ajax/ajax.js"],"names":["qs","axios","TokenManager","defaultHeaders","interceptors","request","use","contentType","headers","data","includes","stringify","token","getToken","response","error","status","window","alert","removeToken","location","Promise","reject"],"mappings":";;;AAAA,OAAOA,EAAP,MAAe,IAAf;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,YAAT,QAA6B,0BAA7B;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAO;AAC5B,oBAAgB;AADY,GAAP;AAAA,CAAvB;;AAGAF,KAAK,CAACG,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAACD,OAAD,EAAa;AAC1C,MAAIE,WAAW,GAAGF,OAAO,CAACG,OAAR,CAAgB,cAAhB,KAAmC,EAArD;;AACA,MAAIH,OAAO,CAACI,IAAR,IAAgBF,WAAW,CAACG,QAAZ,CAAqB,mCAArB,CAApB,EAA+E;AAC7EL,IAAAA,OAAO,CAACI,IAAR,GAAeT,EAAE,CAACW,SAAH,CAAaN,OAAO,CAACI,IAArB,CAAf;AACD;;AACDJ,EAAAA,OAAO,CAACG,OAAR,GAAkBH,OAAO,CAACG,OAAR,IAAmBL,cAAc,EAAnD;AACA,MAAMS,KAAK,GAAGV,YAAY,CAACW,QAAb,EAAd;;AACA,MAAID,KAAJ,EAAW;AACTP,IAAAA,OAAO,CAACG,OAAR,CAAgB,eAAhB,IAAmC,YAAYI,KAA/C;AACD;;AACD,SAAOP,OAAP;AACD,CAXD;AAaAJ,KAAK,CAACG,YAAN,CAAmBU,QAAnB,CAA4BR,GAA5B,CACE,UAACQ,QAAD,EAAc;AACZ,SAAOA,QAAP;AACD,CAHH,EAIE,UAACC,KAAD,EAAW;AACT;AACA,UAAQA,KAAK,CAACD,QAAN,CAAeE,MAAvB;AACE,SAAK,GAAL;AAAU;AACRC,QAAAA,MAAM,CAACC,KAAP,CAAa,WAAb;AACA;AACD;;AACD,SAAK,GAAL;AAAU;AACRhB,QAAAA,YAAY,CAACiB,WAAb;AACAF,QAAAA,MAAM,CAACC,KAAP,CAAa,+BAAb;AACAD,QAAAA,MAAM,CAACG,QAAP,GAAkB,QAAlB;AACA;AACD;;AACD,SAAK,GAAL;AAAU;AACRH,QAAAA,MAAM,CAACC,KAAP,CAAa,aAAb;AACA;AACD;;AACD,SAAK,GAAL;AAAU;AACRD,QAAAA,MAAM,CAACC,KAAP,CAAa,uBAAb;AACA;AACD;;AACD;AAAS;AACP,eAAOG,OAAO,CAACC,MAAR,CAAeP,KAAf,CAAP;AACD;AArBH,GAFS,CAyBT;;AACD,CA9BH;AAiCA,eAAed,KAAf","sourcesContent":["import qs from \"qs\";\r\nimport axios from \"axios\";\r\n\r\nimport { TokenManager } from \"../../tokenManager/token\";\r\n\r\nconst defaultHeaders = () => ({\r\n  \"Content-Type\": \"application/json;charset=UTF-8\",\r\n});\r\naxios.interceptors.request.use((request) => {\r\n  var contentType = request.headers[\"Content-Type\"] || \"\";\r\n  if (request.data && contentType.includes(\"application/x-www-form-urlencoded\")) {\r\n    request.data = qs.stringify(request.data);\r\n  }\r\n  request.headers = request.headers || defaultHeaders();\r\n  const token = TokenManager.getToken();\r\n  if (token) {\r\n    request.headers[\"Authorization\"] = \"Bearer \" + token;\r\n  }\r\n  return request;\r\n});\r\n\r\naxios.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // console.log(\"HAVE ERROR\", error);\r\n    switch (error.response.status) {\r\n      case 201: {\r\n        window.alert(\"OK Status\");\r\n        break;\r\n      }\r\n      case 401: {\r\n        TokenManager.removeToken();\r\n        window.alert(\"Unauthorized. Invalid API KEY\");\r\n        window.location = \"/login\";\r\n        break;\r\n      }\r\n      case 400: {\r\n        window.alert(\"Bad Request\");\r\n        break;\r\n      }\r\n      case 500: {\r\n        window.alert(\"Server Internal Error\");\r\n        break;\r\n      }\r\n      default: {\r\n        return Promise.reject(error);\r\n      }\r\n    }\r\n    // return Promise.reject(error);\r\n  },\r\n);\r\n\r\nexport default axios;\r\n"]}]}